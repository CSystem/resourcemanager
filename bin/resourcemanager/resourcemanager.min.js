var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t;return{next:verb(0),"throw":verb(1),"return":verb(2)};function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=y[op[0]&2?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[0,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __promise__line='\n(function(t){function z(){for(var a=0;a<g.length;a++)g[a][0](g[a][1]);g=[];m=!1}function n(a,b){g.push([a,b]);m||(m=!0,A(z,0))}function B(a,b){function c(a){p(b,a)}function h(a){k(b,a)}try{a(c,h)}catch(d){h(d)}}function u(a){var b=a.owner,c=b.state_,b=b.data_,h=a[c];a=a.then;if("function"===typeof h){c=l;try{b=h(b)}catch(d){k(a,d)}}v(a,b)||(c===l&&p(a,b),c===q&&k(a,b))}function v(a,b){var c;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(b&&("function"===\ntypeof b||"object"===typeof b)){var h=b.then;if("function"===typeof h)return h.call(b,function(d){c||(c=!0,b!==d?p(a,d):w(a,d))},function(b){c||(c=!0,k(a,b))}),!0}}catch(d){return c||k(a,d),!0}return!1}function p(a,b){a!==b&&v(a,b)||w(a,b)}function w(a,b){a.state_===r&&(a.state_=x,a.data_=b,n(C,a))}function k(a,b){a.state_===r&&(a.state_=x,a.data_=b,n(D,a))}function y(a){var b=a.then_;a.then_=void 0;for(a=0;a<b.length;a++)u(b[a])}function C(a){a.state_=l;y(a)}function D(a){a.state_=q;y(a)}function e(a){if("function"!==\ntypeof a)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof e)throw new TypeError("Failed to construct \'Promise\': Please use the \'new\' operator, this object constructor cannot be called as a function.");this.then_=[];B(a,this)}var f=t.Promise,s=f&&"resolve"in f&&"reject"in f&&"all"in f&&"race"in f&&function(){var a;new f(function(b){a=b});return"function"===typeof a}();"undefined"!==typeof exports&&exports?(exports.Promise=s?f:e,exports.Polyfill=e):"function"==\ntypeof define&&define.amd?define(function(){return s?f:e}):s||(t.Promise=e);var r="pending",x="sealed",l="fulfilled",q="rejected",E=function(){},A="undefined"!==typeof setImmediate?setImmediate:setTimeout,g=[],m;e.prototype={constructor:e,state_:r,then_:null,data_:void 0,then:function(a,b){var c={owner:this,then:new this.constructor(E),fulfilled:a,rejected:b};this.state_===l||this.state_===q?n(u,c):this.then_.push(c);return c.then},"catch":function(a){return this.then(null,a)}};e.all=function(a){if("[object Array]"!==\nObject.prototype.toString.call(a))throw new TypeError("You must pass an array to Promise.all().");return new this(function(b,c){function h(a){e++;return function(c){d[a]=c;--e||b(d)}}for(var d=[],e=0,f=0,g;f<a.length;f++)(g=a[f])&&"function"===typeof g.then?g.then(h(f),c):d[f]=g;e||b(d)})};e.race=function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("You must pass an array to Promise.race().");return new this(function(b,c){for(var e=0,d;e<a.length;e++)(d=a[e])&&"function"===\ntypeof d.then?d.then(b,c):b(d)})};e.resolve=function(a){return a&&"object"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})};e.reject=function(a){return new this(function(b,c){c(a)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);\n';eval(__promise__line);delete __promise__line;var RES;(function(RES){RES.checkNull=function(target,propertyKey,descriptor){var method=descriptor.value;descriptor.value=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i-0]=arguments[_i]}if(!arg[0]){console.warn("方法"+propertyKey+"的参数不能为null");return null}else{return method.apply(this,arg)}}};RES.checkDecorator=function(target,propertyKey,descriptor){var method=descriptor.value;descriptor.value=function(url,resourceRoot){if(resourceRoot){console.warn("已经废弃 resourceRoot")}if(url){console.warn("已经废弃 url")}console.assert(RES.configItem,"需要为文档类添加 RES.mapConfig 注解");return method.apply(this)}}})(RES||(RES={}));var RES;(function(RES){var ResourceNodeType;(function(ResourceNodeType){ResourceNodeType[ResourceNodeType["FILE"]=0]="FILE";ResourceNodeType[ResourceNodeType["DICTIONARY"]=1]="DICTIONARY"})(ResourceNodeType||(ResourceNodeType={}));function getResourceInfo(url){return FileSystem.getFile(url)}RES.getResourceInfo=getResourceInfo;var FileSystem;(function(FileSystem){FileSystem.data={};function addFile(filename,type){if(!type)type="";filename=normalize(filename);var basefilename=basename(filename);var folder=dirname(filename);if(!exists(folder)){mkdir(folder)}var d=reslove(folder);d[basefilename]={url:filename,type:type}}FileSystem.addFile=addFile;function getFile(filename){return reslove(filename)}FileSystem.getFile=getFile;function basename(filename){return filename.substr(filename.lastIndexOf("/")+1)}function normalize(filename){return filename.split("/").filter(function(d){return!!d}).join("/")}function dirname(path){return path.substr(0,path.lastIndexOf("/"))}function reslove(dirpath){dirpath=normalize(dirpath);var list=dirpath.split("/");var current=FileSystem.data;for(var _i=0,list_1=list;_i<list_1.length;_i++){var f=list_1[_i];current=current[f]}return current}function mkdir(dirpath){dirpath=normalize(dirpath);var list=dirpath.split("/");var current=FileSystem.data;for(var _i=0,list_2=list;_i<list_2.length;_i++){var f=list_2[_i];if(!current[f]){current[f]={}}current=current[f]}}FileSystem.mkdir=mkdir;function exists(dirpath){dirpath=normalize(dirpath);var list=dirpath.split("/");var current=FileSystem.data;for(var _i=0,list_3=list;_i<list_3.length;_i++){var f=list_3[_i];if(!current[f]){return false}current=current[f]}return true}FileSystem.exists=exists})(FileSystem=RES.FileSystem||(RES.FileSystem={}))})(RES||(RES={}));var RES;(function(RES){function mapConfig(url,selector){return function(target){var resourceRoot;var type="json";if(typeof selector=="string"){resourceRoot=selector}else{resourceRoot=selector()}if(resourceRoot.lastIndexOf("/")!=0){resourceRoot=resourceRoot+"/"}RES.configItem={url:url,resourceRoot:resourceRoot,type:type,name:url}}}RES.mapConfig=mapConfig;var ResourceConfig=function(){function ResourceConfig(){RES["configInstance"]=this}ResourceConfig.prototype.getGroupByName=function(name,shouldNotBeNull){var group=this.config.groups[name];var result=[];if(!group){if(shouldNotBeNull){throw"none group "+name}return null}for(var _i=0,group_1=group;_i<group_1.length;_i++){var key=group_1[_i];var r=this.getResource(key,true);result.push(r)}return result};ResourceConfig.prototype.__temp__get__type__via__url=function(url_or_alias){var url=this.config.alias[url_or_alias];if(!url){url=url_or_alias}var suffix=url.substr(url.lastIndexOf(".")+1);if(suffix){suffix=suffix.toLowerCase()}var type;switch(suffix){case"xml":case"json":case"sheet":type=suffix;break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":type="image";break;case"fnt":type="font";break;case"txt":type="text";break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":type="sound";break;case"jmc":type="json";break;default:type="bin";break}return type};ResourceConfig.prototype.parseResKey=function(key){key=this.getKeyByAlias(key);var index=key.indexOf("#");if(index>=0){return{key:key.substr(0,index),subkey:key.substr(index+1)}}else{return{key:key,subkey:""}}};ResourceConfig.prototype.getKeyByAlias=function(aliasName){if(this.config.alias[aliasName]){return this.config.alias[aliasName]}else{return aliasName}};ResourceConfig.prototype.getResource=function(url_or_alias,shouldNotBeNull){var url=this.config.alias[url_or_alias];if(!url){url=url_or_alias}var r=RES.getResourceInfo(url);if(!r){if(shouldNotBeNull){throw"none resource url or alias : "+url_or_alias}return null}return r};ResourceConfig.prototype.getGroup=function(name){return this.getGroupByName(name)};ResourceConfig.prototype.createGroup=function(name,keys,override){if(override===void 0){override=false}if(!override&&this.config.groups[name]||!keys||keys.length==0){return false}var group=[];for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var key=keys_1[_i];if(this.config.groups[key]){var groupInfo=this.config.groups[key];group=group.concat(groupInfo)}else if(this.config.alias[key]||this.config.resources[key]){group=group.concat(key)}else{group=group.concat(key);console.warn("resource not exist : "+key)}}this.config.groups[name]=group;return true};ResourceConfig.prototype.parseConfig=function(data,resourceRoot){this.config=data;RES.FileSystem.data=data.resources};ResourceConfig.prototype.addSubkey=function(subkey,name){this.addAlias(subkey,name)};ResourceConfig.prototype.addAlias=function(alias,key){if(this.config.alias[key]){key=this.config.alias[key]}this.config.alias[alias]=key+"#"+alias};ResourceConfig.prototype.getType=function(key){return this.getResource(key,true).type};ResourceConfig.prototype.addResourceData=function(data){if(!data.type){data.type=this.__temp__get__type__via__url(data.url)}RES.FileSystem.addFile(data.url,data.type);if(data.name){this.config.alias[data.name]=data.url}};return ResourceConfig}();RES.ResourceConfig=ResourceConfig})(RES||(RES={}));var RES;(function(RES){var PromiseQueue=function(){function PromiseQueue(){}PromiseQueue.prototype.load=function(list,reporter){if(!(list instanceof Array)){list=[list]}var current=0;var total=list.length;var mapper=function(r){return RES.host.load(r).then(function(response){current++;if(reporter&&reporter.onProgress){reporter.onProgress(current,total)}})};return Promise.all(list.map(mapper))};return PromiseQueue}();RES.PromiseQueue=PromiseQueue})(RES||(RES={}));var RES;(function(RES){var __tempCache={};function profile(){console.log(RES.FileSystem.data);console.log(__tempCache);var totalImageSize=0;for(var key in __tempCache){var img=__tempCache[key];if(img instanceof egret.Texture){totalImageSize+=img._bitmapWidth*img._bitmapHeight*4}}console.log("gpu size : "+(totalImageSize/1024).toFixed(3)+"kb")}RES.profile=profile;RES.host={get resourceConfig(){return manager.config},load:function(r,processor,cache){if(cache===void 0){cache=true}if(!processor){processor=RES.host.isSupport(r)}if(!processor){throw"error"}return processor.onLoadStart(RES.host,r).then(function(data){if(cache){RES.host.save(r,data)}return data})},unload:function(r,cache){if(cache===void 0){cache=true}var processor=RES.host.isSupport(r);if(processor){return processor.onRemoveStart(RES.host,r).then(function(result){if(cache){RES.host.remove(r)}return result})}else{return Promise.resolve()}},save:function(resource,data){__tempCache[resource.url]=data},get:function(resource){return __tempCache[resource.url]},remove:function(resource){delete __tempCache[resource.url]},isSupport:function(resource){var type=resource.type;var map={image:RES.ImageProcessor,json:RES.JsonProcessor,text:RES.TextProcessor,xml:RES.XMLProcessor,sheet:RES.SheetProcessor};return map[type]}};var manager;(function(manager){manager.config=new RES.ResourceConfig;var queue=new RES.PromiseQueue;function init(){return RES.host.load(RES.configItem).then(function(data){manager.config.parseConfig(data,"resource")}).catch(function(e){return Promise.reject({code:1002})})}manager.init=init;function load(resources,reporter){return queue.load(resources,reporter)}manager.load=load})(manager=RES.manager||(RES.manager={}))})(RES||(RES={}));var RES;(function(RES){function promisify(loader,resource){return __awaiter(this,void 0,void 0,function(){_this=this;return __generator(this,function(_a){return[2,new Promise(function(reslove,reject){var onSuccess=function(){var texture=loader["data"]?loader["data"]:loader["response"];reslove(texture)};var onError=function(){var e={code:1001,message:"文件加载失败:'"+resource.url+"'"};reject(e)};loader.addEventListener(egret.Event.COMPLETE,onSuccess,_this);loader.addEventListener(egret.IOErrorEvent.IO_ERROR,onError,_this)})]})});var _this}function getRelativePath(url,file){url=url.split("\\").join("/");var params=url.match(/#.*|\?.*/);var paramUrl="";if(params){paramUrl=params[0]}var index=url.lastIndexOf("/");if(index!=-1){url=url.substring(0,index+1)+file}else{url=file}return url+paramUrl}RES.getRelativePath=getRelativePath;RES.ImageProcessor={onLoadStart:function(host,resource){return __awaiter(this,void 0,void 0,function(){var loader,bitmapData,texture;return __generator(this,function(_a){switch(_a.label){case 0:loader=new egret.ImageLoader;loader.load("resource/"+resource.url);return[4,promisify(loader,resource)];case 1:bitmapData=_a.sent();texture=new egret.Texture;texture._setBitmapData(bitmapData);return[2,texture]}})})},onRemoveStart:function(host,resource){var texture=host.get(resource);texture.dispose();return Promise.resolve()}};RES.TextProcessor={onLoadStart:function(host,resource){return __awaiter(this,void 0,void 0,function(){var request,text;return __generator(this,function(_a){switch(_a.label){case 0:request=new egret.HttpRequest;request.responseType=egret.HttpResponseType.TEXT;request.open("resource/"+resource.url,"get");request.send();return[4,promisify(request,resource)];case 1:text=_a.sent();return[2,text]}})})},onRemoveStart:function(host,resource){return Promise.resolve()}};RES.JsonProcessor={onLoadStart:function(host,resource){return __awaiter(this,void 0,void 0,function(){var text,data;return __generator(this,function(_a){switch(_a.label){case 0:return[4,host.load(resource,RES.TextProcessor)];case 1:text=_a.sent();data=JSON.parse(text);return[2,data]}})})},onRemoveStart:function(host,request){return Promise.resolve()}};RES.XMLProcessor={onLoadStart:function(host,resource){return __awaiter(this,void 0,void 0,function(){var text,data;return __generator(this,function(_a){switch(_a.label){case 0:return[4,host.load(resource,RES.TextProcessor)];case 1:text=_a.sent();data=egret.XML.parse(text);return[2,data]}})})},onRemoveStart:function(host,resource){return Promise.resolve()}};RES.SheetProcessor={onLoadStart:function(host,resource){return __awaiter(this,void 0,void 0,function(){var data,imageUrl,r,texture,frames,spriteSheet,subkey,config,texture;return __generator(this,function(_a){switch(_a.label){case 0:return[4,host.load(resource,RES.JsonProcessor)];case 1:data=_a.sent();imageUrl=getRelativePath(resource.url,data.file);host.resourceConfig.addResourceData({name:imageUrl,type:"image",url:imageUrl});r=host.resourceConfig.getResource(imageUrl);if(!r){throw"error"}return[4,host.load(r)];case 2:texture=_a.sent();frames=data.frames;if(!frames){throw"error"}spriteSheet=new egret.SpriteSheet(texture);for(subkey in frames){config=frames[subkey];texture=spriteSheet.createTexture(subkey,config.x,config.y,config.w,config.h,config.offX,config.offY,config.sourceW,config.sourceH)}return[2,spriteSheet]}})})},onRemoveStart:function(host,resource){return Promise.resolve()}}})(RES||(RES={}));var RES;(function(RES){var ResourceEvent=function(_super){__extends(ResourceEvent,_super);function ResourceEvent(type,bubbles,cancelable){if(bubbles===void 0){bubbles=false}if(cancelable===void 0){cancelable=false}_super.call(this,type,bubbles,cancelable);this.itemsLoaded=0;this.itemsTotal=0;this.groupName=""}ResourceEvent.dispatchResourceEvent=function(target,type,groupName,resItem,itemsLoaded,itemsTotal){if(groupName===void 0){groupName=""}if(resItem===void 0){resItem=undefined}if(itemsLoaded===void 0){itemsLoaded=0}if(itemsTotal===void 0){itemsTotal=0}var event=egret.Event.create(ResourceEvent,type);event.groupName=groupName;if(resItem){event.resItem=RES.ResourceItem.convertToResItem(resItem)}event.itemsLoaded=itemsLoaded;event.itemsTotal=itemsTotal;var result=target.dispatchEvent(event);egret.Event.release(event);return result};return ResourceEvent}(egret.Event);ResourceEvent.ITEM_LOAD_ERROR="itemLoadError";ResourceEvent.CONFIG_COMPLETE="configComplete";ResourceEvent.CONFIG_LOAD_ERROR="configLoadError";ResourceEvent.GROUP_PROGRESS="groupProgress";ResourceEvent.GROUP_COMPLETE="groupComplete";ResourceEvent.GROUP_LOAD_ERROR="groupLoadError";RES.ResourceEvent=ResourceEvent})(RES||(RES={}));var RES;(function(RES){var ResourceItem;(function(ResourceItem){ResourceItem.TYPE_IMAGE="image";function convertToResItem(r){var name;var config=RES["configInstance"];if(!config.config){name=r.url}else{for(var aliasName in config.config.alias){if(config.config.alias[aliasName]==r.url){name=aliasName}}}var result={name:name,url:r.url,type:r.type,data:r};return result}ResourceItem.convertToResItem=convertToResItem})(ResourceItem=RES.ResourceItem||(RES.ResourceItem={}))})(RES||(RES={}));var RES;(function(RES){function registerAnalyzer(type,analyzerClass){throw"unimplement"}RES.registerAnalyzer=registerAnalyzer;function loadConfig(url,resourceRoot){return instance.loadConfig()}RES.loadConfig=loadConfig;function loadGroup(name,priority,reporter){if(priority===void 0){priority=0}return instance.loadGroup(name,priority,reporter)}RES.loadGroup=loadGroup;function isGroupLoaded(name){return instance.isGroupLoaded(name)}RES.isGroupLoaded=isGroupLoaded;function getGroupByName(name){return instance.getGroupByName(name).map(function(r){return RES.ResourceItem.convertToResItem(r)})}RES.getGroupByName=getGroupByName;function createGroup(name,keys,override){if(override===void 0){override=false}return instance.createGroup(name,keys,override)}RES.createGroup=createGroup;function hasRes(key){return instance.hasRes(key)}RES.hasRes=hasRes;function getRes(key){return instance.getRes(key)}RES.getRes=getRes;function getResAsync(key,compFunc,thisObject){instance.getResAsync.apply(instance,arguments)}RES.getResAsync=getResAsync;function getResByUrl(url,compFunc,thisObject,type){if(type===void 0){type=""}instance.getResByUrl(url,compFunc,thisObject,type)}RES.getResByUrl=getResByUrl;function destroyRes(name,force){return instance.destroyRes(name,force)}RES.destroyRes=destroyRes;function setMaxLoadingThread(thread){instance.setMaxLoadingThread(thread)}RES.setMaxLoadingThread=setMaxLoadingThread;function setMaxRetryTimes(retry){instance.setMaxRetryTimes(retry)}RES.setMaxRetryTimes=setMaxRetryTimes;function addEventListener(type,listener,thisObject,useCapture,priority){if(useCapture===void 0){useCapture=false}if(priority===void 0){priority=0}instance.addEventListener(type,listener,thisObject,useCapture,priority)}RES.addEventListener=addEventListener;function removeEventListener(type,listener,thisObject,useCapture){if(useCapture===void 0){useCapture=false}instance.removeEventListener(type,listener,thisObject,useCapture)}RES.removeEventListener=removeEventListener;function $addResourceData(data){instance.addResourceData(data)}RES.$addResourceData=$addResourceData;var Resource=function(_super){__extends(Resource,_super);function Resource(){_super.call(this)}Resource.prototype.loadConfig=function(){var _this=this;return RES.manager.init().then(function(data){RES.ResourceEvent.dispatchResourceEvent(_this,RES.ResourceEvent.CONFIG_COMPLETE)},function(error){RES.ResourceEvent.dispatchResourceEvent(_this,RES.ResourceEvent.CONFIG_LOAD_ERROR)})};Resource.prototype.isGroupLoaded=function(name){return false};Resource.prototype.getGroupByName=function(name){return RES.manager.config.getGroupByName(name)};Resource.prototype.loadGroup=function(name,priority,reporter){if(priority===void 0){priority=0}var resources=RES.manager.config.getGroupByName(name);return RES.manager.load(resources,reporter)};Resource.prototype.createGroup=function(name,keys,override){if(override===void 0){override=false}return RES.manager.config.createGroup(name,keys,override)};Resource.prototype.hasRes=function(key){var name=RES.manager.config.parseResKey(key).key;return RES.manager.config.getResource(name)!=null};Resource.prototype.getRes=function(resKey){var _a=RES.manager.config.parseResKey(resKey),key=_a.key,subkey=_a.subkey;var r=RES.manager.config.getResource(key);if(r&&RES.host.isSupport(r)){return RES.host.get(r)}};Resource.prototype.getResAsync=function(key,compFunc,thisObject){var _a=RES.manager.config.parseResKey(key),key=_a.key,subkey=_a.subkey;var r=RES.manager.config.getResource(key,true);return RES.manager.load(r).then(function(value){if(compFunc){compFunc.call(thisObject,value,r.url)}})};Resource.prototype.getResByUrl=function(url,compFunc,thisObject,type){if(type===void 0){type=""}var r=RES.manager.config.getResource(url);if(!r){RES.manager.config.addResourceData({name:url,url:url})}return this.getResAsync(url,compFunc,thisObject)};Resource.prototype.destroyRes=function(name,force){if(force===void 0){force=true}var group=RES.manager.config.getGroup(name);var remove=function(r){RES.host.unload(r)};if(group&&group.length>0){for(var _i=0,group_2=group;_i<group_2.length;_i++){var item=group_2[_i];remove(item)}return true}else{var item=RES.manager.config.getResource(name);if(item){remove(item);return true}else{console.warn("无法删除指定组:"+name);return false}}};Resource.prototype.setMaxLoadingThread=function(thread){if(thread<1){thread=1}};Resource.prototype.setMaxRetryTimes=function(retry){retry=Math.max(retry,0)};Resource.prototype.addResourceData=function(data){RES.manager.config.addResourceData(data)};return Resource}(egret.EventDispatcher);__decorate([RES.checkDecorator],Resource.prototype,"loadConfig",null);__decorate([RES.checkNull],Resource.prototype,"getRes",null);RES.Resource=Resource;var instance=new Resource})(RES||(RES={}));
