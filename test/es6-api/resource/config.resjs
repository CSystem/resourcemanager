var fs = require("fs");
var path = require("path");

exports.groups = {
	"preload": [
		"bg_jpg"
	]
};
exports.alias = {
	"bg_jpg": "assets/bg.jpg"
};
exports.getTypeByFileExtensionName = function(ext) {
    var type;
    switch (ext) {
        case "png":
        case "jpg":
		case "webp":
            type = "image";
            break;
        case "fnt":
            type = "font";
            break;
        case "mp3":
            type = "sound";
            break;
        case "pvr":
            type = "pvr";
            break;
    }
    return type;
}
exports.filter = function(file, env, plugins) {

    return new Promise((reslove, reject) => {
        var ext = file.ext;
        var p = file.path;
        var type = exports.getTypeByFileExtensionName(ext);
        if (!type) {
            switch (ext) {
                case "json":
                    if (p.indexOf("sheet") >= 0) {
                        type = "sheet";
                    } else if (p.indexOf("movieclip") >= 0) {
                        type = "movieclip";
                    } else {
                        type = "json";
                    }
                    break;
            }
        }
        if (type) {
            reslove({ url:p, type, name: p });
        }
        else {
            reslove(null);
        }
    });


}
exports.resources = {
	"assets": {
		"armature": {
			"skeleton.json": {
				"url": "14580444fe.json",
				"type": "json"
			},
			"texture.json": {
				"url": "28cfd12437.json",
				"type": "json"
			},
			"texture.png": "80c674697c.webp"
		},
		"sound": {
			"sound_go.mp3": "3117a9ab5c.mp3"
		},
		"font": {
			"font.fnt": "eff18df84a.fnt",
			"font.png": "25197d000b.webp"
		},
		"movieclip": {
			"movieclip.json": {
				"url": "c4af147cdc.json",
				"type": "movieclip"
			},
			"movieclip.png": "2f8975398d.webp"
		},
		"sheet": {
			"sheet1.json": {
				"url": "d9fd82add1.json",
				"type": "sheet"
			},
			"sheet1.png": "861c973c18.webp"
		},
		"bg.jpg": "f3f6f21061.webp",
		"egret_icon.png": "188111d46e.webp"
	}
}

